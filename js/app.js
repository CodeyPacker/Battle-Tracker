const jenny = [
  {
    name: "monster 1",
    set: "set",
    power: 1,
    treasure: 1,
    levels: 1,
    abilities:
      "Abilities",
    bad: 
      "Bad stuff"
  },
  {
    name: "monster 2",
    set: "set",
    power: 1,
    treasure: 1,
    levels: 1,
    abilities: 
      "Abilities",
    bad:
      "Bad stuff"
  }
];

const cody = [
  {
    name: "monster 1",
    set: "set",
    power: 1,
    treasure: 1,
    levels: 1,
    abilities: "Abilities",
    bad: "Bad stuff"
  },
  {
    name: "monster 2",
    set: "set",
    power: 1,
    treasure: 1,
    levels: 1,
    abilities: "Abilities",
    bad: "Bad stuff"
  }
];

const monsters = [
  {
    name: "jerry's mytholog",
    set: "rick and morty",
    power: 1,
    treasure: 1,
    levels: 1,
    abilities:
      "Codependency is a bitch. Can join Beth's Mytholog in combat without the use of a wandering monster card. Together, they get an extra +5.",
    bad:
      "Pathetic! -5 in your next combat."
  },
  {
    name: "frank palicky",
    set: "rick and morty",
    power: 1,
    treasure: 1,
    levels: 1,
    abilities:
      "+2 against High Schoolers. If there are ice cubes in the play area, he is automatically defeated.",
    bad:
      "You know I'm gonna cut you, 'cause my family's rich! Discard 300 Gold Pieces worth of items. If you don't have at least 300, turn in what you have."
  },
  {
    name: "ghost in a jar",
    set: "rick and morty",
    power: 1,
    treasure: 1,
    levels: 1,
    abilities:
      "Your memory betrays you. Without searching the discards, recall the name of the bottommost monster in the Door discards. If you cannot, Ghost in a Jar gets +3.",
    bad:
      "Suffer the Bad Stuff of the bottommost monster in the Door discaards"
  },
  {
    name: "centaur",
    set: "rick and morty",
    power: 1,
    treasure: 1,
    levels: 1,
    abilities:
      "Automatically defeated if Scary Terry is your Ally.",
    bad:
      "Hangups in the Pleasure Chamber are punishable by death! You are dead."
  },
  {
    name: "photography raptor",
    set: "rick and morty",
    power: 1,
    treasure: 1,
    levels: 1,
    abilities: 
      "+2 for each Parasite that adds to his level.",
    bad:
      "Flash! Blindly discard one card from your hand."
  },
  {
    name: "tuberculosis",
    set: "rick and morty",
    power: 2,
    treasure: 1,
    levels: 1,
    abilities:
      "Guns do not count against it.",
    bad:
      "Discard any Guns you have in play."
  },
  {
    name: "amish cyborg",
    set: "rick and morty",
    power: 2,
    treasure: 1,
    levels: 1,
    abilities:
      "-1 against anyone with a beard. +2 for each electronic device on the table.",
    bad:
      "Give a card of your choice to another player."
  },
  {
    name: "uncle steve",
    set: "rick and morty",
    power: 2,
    treasure: 1,
    levels: 1,
    abilities:
      "+3 if you have a trip planned within the next two weeks.",
    bad:
      "Discard a One-Shot item. If you cannot, lose a level."
  },
  {
    name: "mrs. refrigerator",
    set: "rick and morty",
    power: 2,
    treasure: 1,
    levels: 1,
    abilities:
      "The jig is up! When she enters combat, reveal your hand and discard any Traps you are holding.",
    bad:
      "Suffer the effects of the topmost Trap in the Door discards."
  },
  {
    name: "hamurai",
    set: "rick and morty",
    power: 2,
    treasure: 1,
    levels: 1,
    abilities:
      "Rick, you love those barbeques, Rick.",
    bad:
      "Meat your maker. You are dead meat."
  },
  {
    name: "gromflomites",
    set: "rick and morty",
    power: 4,
    treasure: 2,
    levels: 1,
    abilities:
      "Damn bureaucrats. +5 if you've ever had a government related job. -2 if Birdperson is your Ally.",
    bad:
      "Cavity search! Discard a random card from your hand."
  },
  {
    name: "brad",
    set: "rick and morty",
    power: 4,
    treasure: 2,
    levels: 1,
    abilities:
      "+2 against High Schoolers. +3 if there is anything football related in the room. -3 if you have a college degree.",
    bad:
      "Lose any female Allies and any female players may steal a random card from your hand."
  },
  {
    name: "cousin nicky",
    set: "rick and morty",
    power: 4,
    treasure: 2,
    levels: 1,
    abilities:
      "Without searching the dicards, recall the bottommost Trap in the Door discards. If you cannot, Cousin Nicky gets +3.",
    bad:
      "Suffer the effects of the bottommost Trap in the Door discards."
  },
  {
    name: "tinkles",
    set: "rick and morty",
    power: 4,
    treasure: 2,
    levels: 1,
    abilities:
      "+3 against Summer.",
    bad:
      "Prove you're real. Reveal your hand to other players."
  },
  {
    name: "lucy",
    set: "rick and morty",
    power: 4,
    treasure: 2,
    levels: 1,
    abilities:
      "+3 if anyone is wearing a necklace.",
    bad:
      "Forced to re-enact the car scene. Lose two levels or succumb to deth. Your decision."
  },
  {
    name: "general nathan",
    set: "rick and morty",
    power: 6,
    treasure: 2,
    levels: 1,
    abilities:
      "-2 if you have the Particle Beam Wristwatch equipped.",
    bad:
      "What America's got is seventy thousand megatons of kaboomboom. Discard three cards."
  },
  {
    name: "zigerions",
    set: "rick and morty",
    power: 6,
    treasure: 2,
    levels: 1,
    abilities:
      "Bare skin! -3 if you are wearing shorts.",
    bad:
      "The galaxy's most ambitious and least successful con artists. Roll the die. On a 1 or 2, give an item you have in play to the player on your right."
  },
  {
    name: "poncho",
    set: "rick and morty",
    power: 6,
    treasure: 2,
    levels: 1,
    abilities:
      "+2 for each Gun in play. When he enters combat, reveal your hand: -2 if you have Tuberculosis (the card).",
    bad:
      "You catch a disease and die. You are dead."
  },
  {
    name: "evil smith clones",
    set: "rick and morty",
    power: 6,
    treasure: 2,
    levels: 1,
    abilities:
      "From an alternate dimension's future. The player to your left gets -5 in their next combat if the Clones are defeated.",
    bad:
      "Demonic alien spirits are really valuable. Discard 500 Gold Pieces worth of items."
  },
  {
    name: "frakenstein",
    set: "rick and morty",
    power: 6,
    treasure: 2,
    levels: 1,
    abilities:
      "You're on the wrong side of the pitchfork. Pick one player to roll the die and add the result to Frankenstein's Level.",
    bad:
      "Give a Hand item to a player of your choice."
  },
  {
    name: "king flippy nips",
    set: "rick and morty",
    power: 8,
    treasure: 2,
    levels: 1,
    abilities:
      "Gets a bonus equal to Jerry's Level when he enters combat. He gets nothing if Jerry is not in the game.",
    bad:
      "The price of power. Discard 500 Gold Pieces worth of items"
  },
  {
    name: "pencilvester",
    set: "rick and morty",
    power: 8,
    treasure: 2,
    levels: 1,
    abilities:
      "+3 against Rick.",
    bad:
      "Discard 2 cards."
  },
  {
    name: "mr. beauregard",
    set: "rick and morty",
    power: 8,
    treasure: 2,
    levels: 1,
    abilities:
      "+2 against anyone wearing black or white.",
    bad:
      "He decides not to quit. Add him to your next combat as another monster, then follow the Parasite rules."
  },
  {
    name: "snowball",
    set: "rick and morty",
    power: 8,
    treasure: 2,
    levels: 1,
    abilities:
      "+4 if there is a living dog in the room. +3 against anyone wearing Headgear. Won't fight Morty, instead gives him the Treasures but no level.",
    bad:
      "You cannot refer to players by their real names. If you do, lose your Headgear. This only happens once. If you don't have Headgear, lose a level."
  },
  {
    name: "prince nebulon",
    set: "rick and morty",
    power: 8,
    treasure: 2,
    levels: 1,
    abilities:
      "-2 against Super Geniuses. +2 against anyone wearing long sleeves or pants. +5 if you're wearing both.",
    bad:
      "Lose your Class(es). If you have none, lose a level."
  },
  {
    name: "shleemypants",
    set: "rick and morty",
    power: 8,
    treasure: 2,
    levels: 1,
    abilities:
      "Takes you back in time to when you had less stuff.  When he enters combat, discard two items you have equipped. If you don't have at least two, nothing happens.",
    bad:
      '"Your assin\' ass done mussed up!" Lose a level for messing with time.'
  },
  {
    name: "male gazorpian",
    set: "rick and morty",
    power: 10,
    treasure: 3,
    levels: 1,
    abilities:
      "-2 against females. Bonuses from Armor don't help you.",
    bad:
      "Hostile takeover! Until you go up a level, other players may use your level as a bonus to aid their side in combat. Keep this card in front of you as a reminder."
  },
  {
    name: "hepatitis a",
    set: "rick and morty",
    power: 10,
    treasure: 3,
    levels: 1,
    abilities:
      "Automatically defeated if Hepatitis C is anywhere in play.",
    bad:
      "Discard an Ally. If you cannot, lose a level."
  },
  {
    name: "abradolf lincler",
    set: "rick and morty",
    power: 10,
    treasure: 3,
    levels: 1,
    abilities:
      "When he enters combat roll the die. On a 5 or higher his less genocidal side takes over and he will not fight you. Collect the treasure, but not the level.",
    bad:
      "He emancipates you from life. Lose your Class(es)."
  },
  {
    name: "mr. needful",
    set: "rick and morty",
    power: 10,
    treasure: 3,
    levels: 1,
    abilities:
      "+6 against anyone level 6 or higher.",
    bad:
      "Your items are cursed! Roll the die once for each item you have in play. Lose a level each time you roll a 1."
  },
  {
    name: "sleepy gary",
    set: "rick and morty",
    power: 10,
    treasure: 3,
    levels: 1,
    abilities:
      "+3 against Jerry or Beth. Beth cannot help in combat.",
    bad:
      "He confuses you about your sexuality. -5 in your next combat due to distraction."
  },
  {
    name: "krombopulos michael",
    set: "rick and morty",
    power: 12,
    treasure: 3,
    levels: 1,
    abilities: 
      '"Oh boy, here I go killing again."',
    bad:
      "Assassinated. You are dead."
  },
  {
    name: "beta seven",
    set: "rick and morty",
    power: 12,
    treasure: 3,
    levels: 1,
    abilities:
      "You are classified as a hostile entity. If unity is in play, discard it. +3 if there are more than three players in the game.",
    bad:
      "Lose your beneficial alliances. Lose a level and all players discard an Ally."
  },
  {
    name: "fart",
    set: "rick and morty",
    power: 12,
    treasure: 3,
    levels: 1,
    abilities:
      "Automatically defeated if you have the Antimatter Gun equipped.",
    bad: 
      "Annihilated. You lose two levels, all other players lose one."
  },
  {
    name: "king jellybean",
    set: "rick and morty",
    power: 12,
    treasure: 3,
    levels: 1,
    abilities:
      "+5 against characters level 5 and below. Automatically defeated if you have the Laser Gun equipped.",
    bad:
      "Psychologically traumatized. Pay for couseling with 500 Gold Pieces worth of items. You also have -5 in your next combat."
  },
  {
    name: "tammy guterman",
    set: "rick and morty",
    power: 12,
    treasure: 3,
    levels: 1,
    abilities:
      "+3 against Parents. If Birdperson is in play when she enters combat, discard him.",
    bad:
      "Pumps you and your friends full of steaming loads of lasers. All players discard an Ally."
  },
  {
    name: "zeep xanflorp",
    set: "rick and morty",
    power: 14,
    treasure: 4,
    levels: 1,
    abilities:
      "+3 against Super Geniuses. Armor gives no bonus against him.",
    bad:
      "You are trapped in the Teenyverse. Lose a level and you cannot Look for Trouble on your next turn."
  },
  {
    name: "cromulons",
    set: "rick and morty",
    power: 14,
    treasure: 4,
    levels: 1,
    abilities: 
      '"Show us what you got!" _5 against Songwriters.',
    bad: 
      "Disqualified! You are dead."
  },
  {
    name: "blim blam the korblock",
    set: "rick and morty",
    power: 14,
    treasure: 4,
    levels: 1,
    abilities:
      "You must pick a player to help you in combat; they cannot refuse. If you kill Blim Blam, you split the Treasure equally.",
    bad:
      '"You two are the F@&$in\' worst!" Lose a Hand Item. Also, if you both fail to run away, you are both dead.'
  },
  {
    name: "council of ricks",
    set: "rick and morty",
    power: 16,
    treasure: 4,
    levels: 2,
    abilities:
      "+3 against anyone with a Class. Will not pursue anyone Level 5 or below.",
    bad:
      "That's rickdiculous. Discard an Ally and a Class. Lose a level for each category you cannot discard."
  },
  {
    name: "ma-sha",
    set: "rick and morty",
    power: 16,
    treasure: 4,
    levels: 2,
    abilities:
      "+3 against males. -3 against females. Will not pursue anyone level 5 or below.",
    bad:
      '"I\'m here if you need to talk." You must aid the player on your left in their next combat if they ask for it. Also, lose a level.'
  },
  {
    name: "beth's mytholog",
    set: "rick and morty",
    power: 16,
    treasure: 4,
    levels: 2,
    abilities:
      "+3 if you are married. When she enters combat, she gets a combat bonus equal to Jerry's level.",
    bad:
      "Lose a level. Suffer the effects of the topmost Trap in the Door discards."
  },
  {
    name: "evil rick",
    set: "rick and morty",
    power: 18,
    treasure: 4,
    levels: 2,
    abilities:
      "When he enters combat, lose an Ally you have in play. Will not pursue anyone Level 5 or below.",
    bad:
      "Lose a level. The next player in combat can force you to help them for no Treasure."
  },
  {
    name: "evil morty",
    set: "rick and morty",
    power: 18,
    treasure: 4,
    levels: 2,
    abilities:
      "When he enters combat you cannot laugh until you defeat him or run away. If you laugh, you automatically suffer the Bad Stuff. Will not pursue anyone Level 5 or below.",
    bad: 
      "Lose any Headgear and a level."
  },
  {
    name: "galactic federation",
    set: "rick and morty",
    power: 20,
    treasure: 5,
    levels: 2,
    abilities:
      "No one can help you in combat. It gets an additional bonus equal to the bonus of any Allies you have in play. Will not pursue anyone Level 5 or below.",
    bad:
      "Lose two levels. Everyone else loses one level. Discard any Guns you have in play."
  },
  {
    name: "abomination",
    set: "marvel",
    power: 14,
    treasure: 4,
    levels: 1,
    abilities:
      "-4 against Hulk. Players in combat with him do not get any combat bonuses from items with a bonus of +3 or less",
    bad:
      "Lose two levels and discard two cards from your hand"
  },
  {
    name: "absorbing man",
    set: "marvel",
    power: 2,
    treasure: 1,
    levels: 1,
    abilities:
      "If the surface you are playing on is glass: +1, wood: +2, plastic: +4, metal: +8, other (including multiple materials): + 10.",
    bad:
      "He crushes your stuff. Loses an equipped item"
  },
  {
    name: "aim soldier",
    set: "marvel",
    power: 1,
    treasure: 1,
    levels: 1,
    abilities:
      "+5 against anyone with at least 1,000 gold pieces worth of items in play.",
    bad:
      "He steals your tech. Discard at least 500 gold pieces worth of items."
  },
  {
    name: "arnim zola",
    set: "marvel",
    power: 4,
    treasure: 2,
    levels: 1,
    abilities: 
      "+2 for each affiliation of the player(s) in combat",
    bad: 
      "Lose your affiliation(s)."
  },
  {
    name: "baron von strucker",
    set: "marvel",
    power: 12,
    treasure: 3,
    levels: 1,
    abilities: 
      "+3 against anyone with no affiliation. -2 against Avengers",
    bad: 
      "Lose at least 1,000 gold pieces worth of items."
  },
  {
    name: "baron zemo",
    set: "marvel",
    power: 16,
    treasure: 4,
    levels: 2,
    abilities:
      "Draw and discard the top two cards of the door deck when he enters combat. He gets +5 for each monster revealed this way",
    bad:
      "Lose your footgear, and the next time you attempt to run away, you automatically fail."
  },
  {
    name: "bullseye",
    set: "marvel",
    power: 2,
    treasure: 1,
    levels: 1,
    abilities:
      "He never misses. Combat bonuses count double for him. He is that good",
    bad:
      "Lose your armor. If you arent wearing any, lose two levels"
  },
  {
    name: "carnage",
    set: "marvel",
    power: 12,
    treasure: 3,
    levels: 1,
    abilities:
      "+4 against Spider-Friends. -2 against Avengers. May join venom in combat without the use of a wandering monster card.",
    bad: 
      "You are dead and you lose a level."
  }
];

// THE ELEMENTS THAT INFO GETS PRINTED TO
let monsterNameDisplay = document.querySelector(".card__monster--name"),
  monsterPowerDisplay = document.querySelector(".card__monster--power"),
  monsterTreasureDisplay = document.querySelector(".card__monster--treasure"),
  monsterLevelsDisplay = document.querySelector(".card__monster--levels"),
  monsterBadStuffDisplay = document.querySelector(".card__monster--badstuff"),
  monsterAbilitiesDisplay = document.querySelector(".card__monster--abilities"),
  munchkinPowerDisplay = document.querySelector(".print-munchkin-power");
(monsterVersus = document.querySelector(".print-monster-power")),
  (powerDifference = document.querySelector(".difference"));

// NEXT REFACTOR: CREATE A CHARACTER CLASS THAT MUCHKINS AND MONSTERS CAN EXTEND FROM

// CREATE MUNCHKIN CLASS THAT HAS A MODIFIER METHOD ON IT'S __proto__
class Munchkin {
  constructor(power) {
    this.power = power;
    this.difference;
  }

  modifier(damage) {
    this.power += damage;
    munchkinPowerDisplay.innerHTML = `${this.power}`;
    return this.power;
  }

  battleDifference() {
    this.difference = this.power - monster.power;

    if (this.difference > 0) {
      powerDifference.classList.remove("red");
      powerDifference.classList.add("green");
    } else {
      powerDifference.classList.remove("green");
      powerDifference.classList.add("red");
    }

    powerDifference.innerHTML = this.difference;
    return this.difference;
  }
}

// CREATE MONSTER CLASS THAT HAS A MODIFIER METHOD ON IT'S __proto__
class Monster {
  constructor(details) {
    this.name = details.name;
    this.levels = details.levels;
    this.power = details.power;
    this.bad = details.bad;
    this.abilities = details.abilities;
    this.set = details.set;
    this.treasure = details.treasure;
  }
  modifier(damage) {
    this.power += damage;
    monsterVersus.innerHTML = `${this.power}`;
    return this.power;
  }
}

// CREATES A NEW MONSTER AFTER THE START BUTTON IS CLICKED
function createMonster() {
  // DELCARE VARIABLES FOR MONSTER BEING CREATED
  // GETS THE MONSTER NAME FROM THE USERS INPUT
  let monsterName = document.querySelector(".monster-name").value.toLowerCase(),
    // SEARCHES THE MONSTERS OBJECT UNTIL IT FINDS A MATCHING MONSTER
    newMonster = monsters.find(monster => monster.name === monsterName),
    name = newMonster.name,
    levels = newMonster.levels,
    power = newMonster.power,
    bad = newMonster.bad,
    abilities = newMonster.abilities,
    set = newMonster.set,
    treasure = newMonster.treasure;

  // PRINT THE VARIABLES/APPLY ANIMATIONS TO THE CARD
  monsterNameDisplay.innerHTML = `${name}`;
  monsterPowerDisplay.innerHTML = `Level ${power}`;
  monsterTreasureDisplay.innerHTML = `${treasure} Treausre`;
  monsterLevelsDisplay.innerHTML = `${levels} Level`;
  monsterBadStuffDisplay.innerHTML = `${bad}`;
  monsterAbilitiesDisplay.innerHTML = `${abilities}`;
  monsterVersus.innerHTML = `${power}`;
  // RETURN THE MONSTER SO WE HAVE ACCESS TO MODIFY IT'S POWER
  return (monster = new Monster({
    name,
    levels,
    power,
    bad,
    abilities,
    set,
    treasure
  }));
}

function createMunchkin() {
  let power = parseInt(document.querySelector(".munchkin-power").value);
  munchkinPowerDisplay.innerHTML = `${power}`;
  return (munchkin = new Munchkin(power));
}

const startButton = document.querySelector(".start-battle");
startButton.onclick = function() {
  // buttonContainer = document.querySelector('.buttons').classList.remove('hide');
  createMonster();
  createMunchkin();
  munchkin.battleDifference();
  const animated = [...document.querySelectorAll(".animate")];

  animated.map(animate => {
    animate.classList.add("animated");
  });
};

// SELECT ALL BUTTONS WITH A CLASS OF MODIFIER AND STORE IN AN ARRAY
const modifyTriggers = [...document.querySelectorAll(".modifier")];
// ADD AN EVENT LISTENER TO EACH BUTTON IN THE ARRAY
modifyTriggers.map(trigger => {
  trigger.addEventListener("click", () => {
    // IF ITS A MONSTER BUTTON, RUN monster.modifier(button-value)
    if (trigger.classList.contains("monster-modifier")) {
      monster.modifier(parseInt(trigger.value));
      munchkin.battleDifference();
      // IF ITS A MUNCHKIN BUTTON, RUN munchkin.modifier(button-value)
    } else if (trigger.classList.contains("munchkin-modifier")) {
      munchkin.modifier(parseInt(trigger.value));
      munchkin.battleDifference();
    }
  });
});
